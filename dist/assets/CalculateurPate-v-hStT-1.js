import{_ as b,r as f,b as S,o as l,c as u,d as t,t as i,e as _,F as I,p as y,f as k,g as T,w as E,v as A,h as q,i as P,n as D,u as w,j as V,k as x,l as C}from"./index--UN8qchB.js";const B={key:0,class:"ingredient"},U={__name:"UnIngredientDisplay",props:["nomIngredient","qteIngredient","poids","nombre"],setup(s){const o=s,n=f({qte:0});return S(()=>{n.qte=Math.round(o.nombre*o.qteIngredient)}),(e,c)=>o.nombre>2?(l(),u("div",B,[t("span",null,"pâte "+i(Math.round(o.poids*o.nombre)),1),t("span",null,i(o.nomIngredient)+" "+i(n.qte),1)])):_("",!0)}},K=b(U,[["__scopeId","data-v-538e2031"]]),N=s=>(y("data-v-f7022a47"),s=s(),k(),s),R={key:0,class:"ingredient"},X={key:1,class:"ingredient"},F=N(()=>t("span",null,null,-1)),j={__name:"DeuxIngredientDisplay",props:["nomIngredient1","qteIngredient1","nomIngredient2","qteIngredient2","poids","nombre"],setup(s){const o=s,n=f({qte1:0,qte2:0});return S(()=>{n.qte1=Math.round(o.nombre*o.qteIngredient1),n.qte2=Math.round(o.nombre*o.qteIngredient2)}),(e,c)=>(l(),u(I,null,[o.nombre>2||o.nomIngredient1==="m.g."&&o.nombre>0?(l(),u("div",R,[t("span",null,"pâte "+i(Math.round(o.poids*o.nombre)),1),t("span",null,i(o.nomIngredient1)+" "+i(n.qte1),1)])):_("",!0),o.nombre>2||o.nomIngredient1==="m.g."&&o.nombre>0?(l(),u("div",X,[F,t("span",null,i(o.nomIngredient2)+" "+i(n.qte2),1)])):_("",!0)],64))}},z=b(j,[["__scopeId","data-v-f7022a47"]]),L={class:"pain"},Q={class:"input"},G={__name:"PainInput",props:["nom","poids","grains","nbIngredient","ingredient1","ingredient2"],emits:["calculer"],setup(s,{emit:o}){const n=s,e=T(""),c=o;function d(){const g=e.value*n.poids;c("calculer",n.nom,g)}function v(){e.value!==""&&(e.value="",d())}return(g,h)=>(l(),u(I,null,[t("div",L,[t("span",null,i(n.nom),1),t("span",Q,[e.value!==""?(l(),u("button",{key:0,type:"button",class:"button",onClick:v}," X ")):_("",!0),E(t("input",{class:"qte",type:"number","onUpdate:modelValue":h[0]||(h[0]=r=>e.value=r),onKeyup:d},null,544),[[A,e.value]])])]),n.nbIngredient===1?(l(),q(K,{key:e.value,nomIngredient:n.ingredient1.nom,qteIngredient:n.ingredient1.qte,poids:n.poids,nombre:e.value},null,8,["nomIngredient","qteIngredient","poids","nombre"])):_("",!0),n.nbIngredient===2?(l(),q(z,{key:e.value,nomIngredient1:n.ingredient1.nom,qteIngredient1:n.ingredient1.qte,nomIngredient2:n.ingredient2.nom,qteIngredient2:n.ingredient2.qte,poids:n.poids,nombre:e.value},null,8,["nomIngredient1","qteIngredient1","nomIngredient2","qteIngredient2","poids","nombre"])):_("",!0)],64))}},H=b(G,[["__scopeId","data-v-582bc4a2"]]),$=s=>(y("data-v-ebb6798b"),s=s(),k(),s),J={class:"texte-centre"},O={class:"texte"},W=$(()=>t("hr",null,null,-1)),Y={class:"texte"},Z=$(()=>t("hr",{class:"grosse-ligne-point"},null,-1)),ee={class:"texte"},te=$(()=>t("span",null,"Poids voulu",-1)),ne={class:"input"},oe=$(()=>t("hr",null,null,-1)),se={class:"texte"},ae={key:0},ie={__name:"Precalcul",props:["item"],emits:["calculer"],setup(s,{emit:o}){const n=s,e=o,c=T(""),d=f({poidsSans:0,qte:0});P(()=>{d.poidsSans=Math.round(n.item.total/(1+n.item.qte)),n.item.poidsVoulu&&(d.qte=n.item.total-c.value)});function v(){d.qte=n.item.total-c.value,e("calculer",n.item.nom,c.value)}function g(){c.value!==""&&(c.value="",v())}return(h,r)=>(l(),u("div",{style:D({background:n.item.couleur})},[t("div",J," Pâte "+i(n.item.nom),1),t("div",O,[t("span",null,"Avec "+i(n.item.nom),1),t("span",null,i(n.item.total||""),1)]),W,t("div",Y,[t("span",null,"Sans "+i(n.item.nom),1),t("span",null,i(d.poidsSans||""),1)]),Z,t("div",ee,[te,t("span",ne,[c.value!==""?(l(),u("button",{key:0,class:"button",onClick:g}," X ")):_("",!0),E(t("input",{class:"qte",type:"number","onUpdate:modelValue":r[0]||(r[0]=p=>c.value=p),onKeyup:v},null,544),[[A,c.value]])])]),oe,t("div",se,[t("span",null,"Qte "+i(n.item.nom),1),n.item.poidsVoulu&&n.item.total?(l(),u("span",ae,i(d.qte||""),1)):_("",!0)])],4))}},le=b(ie,[["__scopeId","data-v-ebb6798b"]]),ue=s=>(y("data-v-9abe138a"),s=s(),k(),s),ce={class:"texte"},re=ue(()=>t("hr",null,null,-1)),de={__name:"IngredientPate",props:["ingredient","poidsVoulu"],setup(s){const o=s,n=f({qte:0});return P(()=>{n.qte=Math.round(o.ingredient.qte*o.poidsVoulu)}),(e,c)=>(l(),u(I,null,[t("div",ce,[t("span",null,i(o.ingredient.nom),1),t("span",null,i(n.qte||""),1)]),re],64))}},pe=b(de,[["__scopeId","data-v-9abe138a"]]),m=s=>(y("data-v-5198dc57"),s=s(),k(),s),_e={class:"titre"},me={class:"pain"},ve=m(()=>t("hr",null,null,-1)),ge={class:"poids-total"},he=m(()=>t("div",{class:"texte-centre"}," Poids total ",-1)),Ie={class:"texte"},be=m(()=>t("span",null,"Avec eau",-1)),fe=m(()=>t("hr",null,null,-1)),qe={class:"texte"},ye=m(()=>t("span",null,"Sans eau",-1)),ke=m(()=>t("hr",{class:"grosse-ligne-point"},null,-1)),$e={class:"texte"},xe=m(()=>t("span",null,"Poids voulu",-1)),Se={class:"input"},Te={class:"recette"},Ee=m(()=>t("div",{class:"texte-centre"}," Recette ",-1)),Ae={__name:"CalculateurPate",setup(s){const o=w();S(async()=>{e.pate=await V(o.params.pate)}),P(async()=>{o.params.pate!==e.pate.path&&(e.pate={},e.poidsTotalAvecEau=0,e.poidsTotalSansEau=0,e.keyDivIngredient=0,e.pate=await V(o.params.pate))});const n=T(""),e=f({pate:[],poidsTotalAvecEau:0,poidsTotalSansEau:0,keyDivIngredient:0});function c(r,p){if(e.poidsTotalAvecEau=0,e.pate.precalcul)for(const a in e.pate.precalcul)e.pate.precalcul[a].total=0;for(const a in e.pate.pains)if(e.pate.pains[a].nom===r&&(e.pate.pains[a].total=p),e.pate.pains[a].precalcul){const M=e.pate.pains[a].precalcul;e.pate.precalcul[M].total+=e.pate.pains[a].total}else e.poidsTotalAvecEau+=e.pate.pains[a].total;for(const a in e.pate.precalcul)e.poidsTotalAvecEau+=e.pate.precalcul[a].poidsVoulu;v()}function d(r,p){e.poidsTotalAvecEau+=p-e.pate.precalcul[r].poidsVoulu,e.pate.precalcul[r].poidsVoulu=p,v()}function v(){e.poidsTotalAvecEau=Math.round(e.poidsTotalAvecEau),e.pate.eauAvant?e.poidsTotalSansEau=Math.round(e.poidsTotalAvecEau/(1+e.pate.eauAvant)):e.poidsTotalSansEau=Math.round(e.poidsTotalAvecEau/(1+e.pate.ingredients.eau.qte))}function g(){n.value!==""&&(n.value="",h(),e.keyDivIngredient+=1)}function h(){for(const r in e.pate.ingredients)e.pate.ingredients[r].total=Math.round(n.value*r.qte);e.keyDivIngredient+=1}return(r,p)=>(l(),u("div",null,[t("h1",_e,i(e.pate.nom),1),t("div",me,[(l(!0),u(I,null,x(e.pate.pains,a=>(l(),u("div",{key:a.nom},[ve,C(H,{nom:a.nom,poids:a.poids,nbIngredient:a.nbIngredient,ingredient1:a.ingredient1,ingredient2:a.ingredient2,onCalculer:c},null,8,["nom","poids","nbIngredient","ingredient1","ingredient2"])]))),128))]),(l(!0),u(I,null,x(e.pate.precalcul,a=>(l(),q(le,{key:a.id,item:a,onCalculer:d},null,8,["item"]))),128)),t("div",ge,[he,t("div",Ie,[be,t("span",null,i(e.poidsTotalAvecEau||""),1)]),fe,t("div",qe,[ye,t("span",null,i(e.poidsTotalSansEau||""),1)]),ke,t("div",$e,[xe,t("span",Se,[n.value!==""?(l(),u("button",{key:0,type:"button",class:"button",onClick:g}," X ")):_("",!0),E(t("input",{class:"qte",type:"number","onUpdate:modelValue":p[0]||(p[0]=a=>n.value=a),onKeyup:h},null,544),[[A,n.value]])])])]),t("div",Te,[Ee,(l(!0),u(I,null,x(e.pate.ingredients,a=>(l(),q(pe,{key:a.nom,ingredient:a,"poids-voulu":n.value},null,8,["ingredient","poids-voulu"]))),128))])]))}},Ve=b(Ae,[["__scopeId","data-v-5198dc57"]]);export{Ve as default};
